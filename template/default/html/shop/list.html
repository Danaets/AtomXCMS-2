<!--{#
For inspect an any variable use "show" filter as shown below:
{{ context.entity|show }}

It represents a variable the same way as the "var_dump" function in PHP.

More details & documentation are located at http://atomx.net/stat/category/27/.

Current context:
- context (array)
- - entities (array)
#}-->
<div class="catalog">
{% if context.entities %}
	{% for entity in context.entities %}
        <div class="product-item">
			<div class="product-item-overlay">
				<div class="product-image">
					{% if entity.attaches %}
						<a href="{{ entity.entry_url }}">
							<img src="/image/shop/{{ entity.attaches[0].filename }}/150/" title="{{ entity.title|escape }}" />
						</a>
					{% else %}
						<img src="{{ template_path }}/img/noimage.png" title="No image" />
					{% endif %}
				</div>
				<a href="{{ entity.entry_url }}"><h2>{{ entity.title|escape }}</h2></a>
				<div class="product-price">
					{{ entity.final_price|num_format(2, ',', ' ') }}
					{% if entity.final_price != entity.price %}
						<span class="product-old-price">{{ entity.price|num_format(2, ',', ' ') }}</span>
					{% endif %}
				</div>
				<div class="buy-button">{{ 'Add to cart'|lang('shop') }}</div>
				<div class="clear"></div>
				<div class="product-description">
				{% for attr in entity.attributes %}
					<strong>{{ attr.label|lang|escape }}</strong>: {{ attr.content.content|escape }}<br>
					<strong>{{ attr.label|lang|escape }}</strong>: {{ attr.content.content|escape }}<br>
					<strong>{{ attr.label|lang|escape }}</strong>: {{ attr.content.content|escape }}<br>
					<strong>{{ attr.label|lang|escape }}</strong>: {{ attr.content.content|escape }}<br>
					<strong>{{ attr.label|lang|escape }}</strong>: {{ attr.content.content|escape }}<br>
					<strong>{{ attr.label|lang|escape }}</strong>: {{ attr.content.content|escape }}<br>
				{% endfor %}
				</div>
				<div class="product-footer"></div>
			</div>
        </div>
	{% endfor %}

{% else %}
	{{ 'Materials not found'|lang }}
{% endif %}
</div>